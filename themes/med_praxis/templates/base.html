<!DOCTYPE html>
<html lang="{{ DEFAULT_LANG }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="{% block meta_description %}{{ SITE_DESCRIPTION }}{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}{{ SITE_KEYWORDS }}{% endblock %}">
    <meta name="robots" content="index, follow">
    <meta name="author" content="{{ AUTHOR }}">
    
    <!-- Canonical URL -->
    {% block canonical_url %}
        {% set canonical_path = '' %}
        {% if page and page.url %}
            {% set canonical_path = page.url %}
        {% elif article and article.url %}
            {% set canonical_path = article.url %}
        {% endif %}
        {% if canonical_path %}
            <link rel="canonical" href="{{ ('/' + DEFAULT_LANG + '/' + canonical_path) | absolute_url }}" id="canonical-link">
        {% else %}
            <link rel="canonical" href="{{ ('/' + DEFAULT_LANG + '/') | absolute_url }}" id="canonical-link">
        {% endif %}
    {% endblock %}
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    {% block og_url %}
        {% set og_path = '' %}
        {% if page and page.url %}
            {% set og_path = page.url %}
        {% elif article and article.url %}
            {% set og_path = article.url %}
        {% endif %}
        {% if og_path %}
            <meta property="og:url" content="{{ ('/' + DEFAULT_LANG + '/' + og_path) | absolute_url }}" id="og-url">
        {% else %}
            <meta property="og:url" content="{{ ('/' + DEFAULT_LANG + '/') | absolute_url }}" id="og-url">
        {% endif %}
    {% endblock %}
    <meta property="og:title" content="{% block og_title %}{% if page and page.title %}{{ page.title }}{% else %}{{ SITENAME }}{% endif %}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}{{ SITE_DESCRIPTION }}{% endblock %}">
    <meta property="og:image" content="/theme/images/logo.svg">
    <meta property="og:locale" content="{% if DEFAULT_LANG == 'de' %}de_DE{% elif DEFAULT_LANG == 'en' %}en_US{% elif DEFAULT_LANG == 'ru' %}ru_RU{% elif DEFAULT_LANG == 'uk' %}uk_UA{% endif %}" id="og-locale">
    <meta property="og:locale:alternate" content="en_US">
    <meta property="og:locale:alternate" content="ru_RU">
    <meta property="og:locale:alternate" content="uk_UA">
    <meta property="og:locale:alternate" content="uk">
    <meta property="og:site_name" content="{{ SITENAME }}">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    {% block twitter_url %}
        {% set twitter_path = '' %}
        {% if page and page.url %}
            {% set twitter_path = page.url %}
        {% elif article and article.url %}
            {% set twitter_path = article.url %}
        {% endif %}
        {% if twitter_path %}
            <meta name="twitter:url" content="{{ ('/' + DEFAULT_LANG + '/' + twitter_path) | absolute_url }}">
        {% else %}
            <meta name="twitter:url" content="{{ ('/' + DEFAULT_LANG + '/') | absolute_url }}">
        {% endif %}
    {% endblock %}
    <meta name="twitter:title" content="{% block twitter_title %}{% if page and page.title %}{{ page.title }}{% else %}{{ SITENAME }}{% endif %}{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}{{ SITE_DESCRIPTION }}{% endblock %}">
    <meta name="twitter:image" content="/theme/images/logo.svg">
    
    <!-- Hreflang tags for multilingual support -->
    {% set page_path = '' %}
    {% if page and page.url %}
        {% set page_path = page.url %}
    {% elif article and article.url %}
        {% set page_path = article.url %}
    {% endif %}
    
    {% for lang_code in ['de', 'en', 'ru', 'uk'] %}
        {% if page_path %}
            <link rel="alternate" hreflang="{{ lang_code }}" href="{{ ('/' + lang_code + '/' + page_path) | absolute_url }}">
        {% else %}
            <link rel="alternate" hreflang="{{ lang_code }}" href="{{ ('/' + lang_code + '/') | absolute_url }}">
        {% endif %}
    {% endfor %}
    <link rel="alternate" hreflang="x-default" href="{{ '/de/' | absolute_url }}">
    
    <!-- Preconnect для внешних ресурсов -->
    <link rel="preconnect" href="https://www.google.com">
    <link rel="preconnect" href="https://www.googleapis.com">
    <link rel="dns-prefetch" href="https://www.doctolib.de">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/theme/images/logo.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/theme/images/logo.svg">
    <link rel="icon" type="image/png" sizes="16x16" href="/theme/images/logo.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="/theme/images/logo.svg">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#00C9A7">
    
    <title>{% block title %}{% if page and page.title %}{{ page.title }}{% else %}{{ SITENAME }}{% endif %}{% endblock %}</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/theme/css/styles.css" as="style">
    <link rel="preload" href="/theme/js/script.js" as="script">
    
    <link rel="stylesheet" href="/theme/css/styles.css">
    
    {% block extra_head %}{% endblock %}
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <header>
        <div class="header-container">
            <div class="logo-container">
                <a href="/{{ DEFAULT_LANG }}/">
                    <img src="/theme/images/logo.svg" alt="{{ _('Praxis Saewska Logo - Gynecological Practice Berlin') }}" class="logo" width="120" height="120" fetchpriority="high">
                </a>
                <span class="practice-name">{% block practice_name %}{{ _('Gynäkologische Praxis') }}<br>{{ _('Dr. PhD Elena Saewska') }}{% endblock %}</span>
            </div>
            <button class="menu-toggle" id="menu-toggle" aria-label="{{ _('Menu') }}">☰</button>
            <nav>
                <ul>
                    <li><a href="/{{ DEFAULT_LANG }}/">{% block nav_home %}{{ _('Startseite') }}{% endblock %}</a></li>
                    <li><a href="/{{ DEFAULT_LANG }}/#services">{% block nav_services %}{{ _('Leistungen') }}{% endblock %}</a></li>
                    <li><a href="/{{ DEFAULT_LANG }}/about/">{% block nav_about %}{{ _('Über uns') }}{% endblock %}</a></li>
                    <li><a href="/{{ DEFAULT_LANG }}/faq/">{% block nav_faq %}{{ _('FAQ') }}{% endblock %}</a></li>
                    <li><a href="/{{ DEFAULT_LANG }}/blog/">{% block nav_blog %}{{ _('Blog') }}{% endblock %}</a></li>
                    <li><a href="/{{ DEFAULT_LANG }}/contact/">{% block nav_contact %}{{ _('Kontakt') }}{% endblock %}</a></li>
                    <li class="language-switcher">
                        <select id="language-select" aria-label="{{ _('Select language') }}">
                            <option value="de" {% if DEFAULT_LANG == 'de' %}selected{% endif %}>Deutsch</option>
                            <option value="en" {% if DEFAULT_LANG == 'en' %}selected{% endif %}>English</option>
                            <option value="uk" {% if DEFAULT_LANG == 'uk' %}selected{% endif %}>Українська</option>
                            <option value="ru" {% if DEFAULT_LANG == 'ru' %}selected{% endif %}>Русский</option>
                        </select>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main-content">
        {% block content %}{% endblock %}
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>{% block footer_practice_name %}{{ SITENAME }}{% endblock %}</h3>
                <p>{% block footer_description %}{{ _('Ihre gynäkologische Praxis für umfassende Betreuung und moderne Medizin.') }}{% endblock %}</p>
            </div>
            <div class="footer-section">
                <h3>{% block footer_navigation %}{{ _('Navigation') }}{% endblock %}</h3>
                <ul>
                    <li><a href="/{{ DEFAULT_LANG }}/">{% block footer_home %}{{ _('Startseite') }}{% endblock %}</a></li>
                    <li><a href="/{{ DEFAULT_LANG }}/about/">{% block footer_about %}{{ _('Über uns') }}{% endblock %}</a></li>
                    <li><a href="/{{ DEFAULT_LANG }}/faq/">{% block footer_faq %}{{ _('FAQ') }}{% endblock %}</a></li>
                    <li><a href="/{{ DEFAULT_LANG }}/blog/">{% block footer_blog %}{{ _('Blog') }}{% endblock %}</a></li>
                    <li><a href="/{{ DEFAULT_LANG }}/contact/">{% block footer_contact %}{{ _('Kontakt') }}{% endblock %}</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>{% block footer_legal %}{{ _('Rechtliches') }}{% endblock %}</h3>
                <ul>
                    <li><a href="/{{ DEFAULT_LANG }}/privacy/">{% block footer_privacy %}{{ _('Datenschutz') }}{% endblock %}</a></li>
                    <li><a href="/{{ DEFAULT_LANG }}/impressum/">{% block footer_impressum %}{{ _('Impressum') }}{% endblock %}</a></li>
                    <li><a href="#" id="cookie-settings">{% block footer_cookie_settings %}{{ _('Cookie-Einstellungen') }}{% endblock %}</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p><span>{% block footer_copyright %}{{ _('© 2025') }}{{ SITENAME }}.{% endblock %}</span> <span>{% block footer_rights %}{{ _('Alle Rechte vorbehalten.') }}{% endblock %}</span></p>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scroll-to-top" class="scroll-to-top" aria-label="{{ _('Scroll to top') }}" title="{{ _('Scroll to top') }}">
        ↑
    </button>

    <!-- Load vanilla-cookieconsent library -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vanilla-cookieconsent@2.9.1/dist/cookieconsent.css">
    <script src="https://cdn.jsdelivr.net/npm/vanilla-cookieconsent@2.9.1/dist/cookieconsent.min.js" defer></script>
    
    <!-- Load scripts -->
    <script src="/theme/js/script.js" defer></script>
    {% block extra_scripts %}{% endblock %}
</body>
</html>

